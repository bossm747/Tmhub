import{k as D,e as R,V as Y,a2 as z,a1 as F,ar as X,aY as G,z as o,D as i,F as l,H as h,b as c,a3 as U,A as y,B as r,an as J,o as K,a4 as b,L as f,_ as Z,ac as Q,ad as W,ae as $,ag as ee,aZ as te,a_ as ae,r as v,O as se,a$ as A,b0 as oe,w as C,b1 as le,aM as ne,aj as re,aA as ie,ak as ce,b2 as ue,ai as de,b3 as pe,b4 as _e,M as me,G as n,al as ge,I as T,J as S,K as I,b5 as fe,aH as he,aI as ve}from"./index.f8cf10bb.js";import{v as ye,a as be}from"./vue-social-sharing.001baf6f.js";import{E as ke}from"./divider.36f17e95.js";const Be=D({name:"ElTimeline",setup(d,{slots:e}){const a=R("timeline");return F("timeline",e),()=>Y("ul",{class:[a.b()]},[z(e,"default")])}}),we=X({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:G},hollow:{type:Boolean,default:!1}}),Ee={name:"ElTimelineItem"},Te=D({...Ee,props:we,setup(d){const e=R("timeline-item");return(a,t)=>(o(),i("li",{class:h([c(e).b(),{[c(e).e("center")]:a.center}])},[l("div",{class:h(c(e).e("tail"))},null,2),a.$slots.dot?b("v-if",!0):(o(),i("div",{key:0,class:h([c(e).e("node"),c(e).em("node",a.size||""),c(e).em("node",a.type||""),c(e).is("hollow",a.hollow)]),style:U({backgroundColor:a.color})},[a.icon?(o(),y(c(K),{key:0,class:h(c(e).e("icon"))},{default:r(()=>[(o(),y(J(a.icon)))]),_:1},8,["class"])):b("v-if",!0)],6)),a.$slots.dot?(o(),i("div",{key:1,class:h(c(e).e("dot"))},[z(a.$slots,"dot")],2)):b("v-if",!0),l("div",{class:h(c(e).e("wrapper"))},[!a.hideTimestamp&&a.placement==="top"?(o(),i("div",{key:0,class:h([c(e).e("timestamp"),c(e).is("top")])},f(a.timestamp),3)):b("v-if",!0),l("div",{class:h(c(e).e("content"))},[z(a.$slots,"default")],2),!a.hideTimestamp&&a.placement==="bottom"?(o(),i("div",{key:1,class:h([c(e).e("timestamp"),c(e).is("bottom")])},f(a.timestamp),3)):b("v-if",!0)],2)],2))}});var L=Z(Te,[["__file","/home/runner/work/element-plus/element-plus/packages/components/timeline/src/timeline-item.vue"]]);const Se=Q(Be,{TimelineItem:L}),Ie=W(L);class Pe{constructor(e){this.id=e,this.xOffset=.5,this.yOffset=1,this.attack=.1,this.release=.5,this.perspective=2e3,this.create()}create(){document.querySelectorAll(this.id).forEach(e=>{const a=e.getBoundingClientRect(),t="perspective("+this.perspective+"px) ";e.style.setProperty("transform-style","preserve-3d"),e.addEventListener("mouseenter",_=>{e.style.setProperty("transition","transform "+this.attack+"s")}),e.addEventListener("mousemove",_=>{let k=_.pageY-a.top,g=_.pageX-a.left,p=this.map(g,0,a.width,-this.xOffset,this.xOffset),B=this.map(k,0,a.height,this.yOffset,-this.yOffset),u="rotateX("+B+"deg) ",w="rotateY("+p+"deg)";e.style.setProperty("transform",t+u+w)}),e.addEventListener("mouseleave",_=>{e.style.setProperty("transition","transform "+this.release+"s"),e.style.setProperty("transform",t+"rotateX(0deg) rotateY(0deg)")})})}map(e,a,t,_,k){return _+(k-_)*((e-a)/(t-a))}}const xe={components:{ShareNetwork:ye.exports.ShareNetwork},setup(){ee({...ge.blogs});const d=te(),e=ae(),a=v([]),t=v([{slug:"all",name:"All"}]),_=v({}),k=v({}),g=v(d.query.tag||"all"),p=v(d.query.page||1),B=v(0),u=v(!1);se(async()=>{u.value=!0,A({limit:4,filter:"featured:true"}).then(m=>{_.value=m.posts[0],k.value=m.posts.slice(1)}),oe().then(m=>{t.value=t.value.concat(m)}),w(),new Pe(".c-dynamicShadowImage")});const w=()=>{u.value=!0,A({limit:9,filter:g.value!=="all"?`tag:${g.value}`:void 0,page:p.value}).then(m=>{var P,x;m.posts.length>0?(a.value=m.posts,B.value=(x=(P=m.meta)==null?void 0:P.pagination)==null?void 0:x.total):p.value=1}).finally(()=>{u.value=!1})};return C(g,()=>{e.replace({path:d.path,query:{...d.query,tag:g.value}}),w()}),C(p,()=>{e.replace({path:d.path,query:{...d.query,page:p.value}}),w()}),{blogs:a,tags:t,topBlog:_,activeTag:g,formatDate:le,currentPage:p,total:B,loading:u,featuredBlogs:k}}},M=d=>(he("data-v-2a872455"),d=d(),ve(),d),ze={class:"blogs"},Ae={class:"c-dynamicShadowImage"},Ce=["href"],De=["href"],Re={class:"tags"},Le=M(()=>l("span",{class:"tag tag--feature"},"FEATURED",-1)),Me={class:"mt_20"},Ne={key:0,class:"info mt_16"},qe={class:"author"},Oe={class:"article-byline-meta"},je=["innerHTML"],He={key:0,class:"author-sep"},Ve={class:"byline-meta-content"},Ye={class:"publishAt"},Fe={class:"byline-reading-time"},Xe=M(()=>l("span",{class:"bull"}," \u2022 ",-1)),Ge={class:"mt_20"},Ue=["href"],Je={class:"title-timeline"},Ke={class:"avatars"},Ze={class:"mb_16"};function Qe(d,e,a,t,_,k){const g=ne,p=re,B=ie,u=ce,w=ue,m=ke,P=Ie,x=Se,N=de,q=pe,O=fe,j=_e,H=be;return me((o(),i("div",ze,[n(w,null,{default:r(()=>[n(u,{class:"row-bg",justify:"center"},{default:r(()=>[n(p,{class:"top-blog-image",span:8,xs:18},{default:r(()=>[l("div",Ae,[l("a",{href:`/news/${t.topBlog.slug}`},[n(g,{class:"feature-image feature-image--object",src:t.topBlog.feature_image,fit:"contain"},null,8,["src"]),n(g,{class:"feature-image feature-image--shadow",src:t.topBlog.feature_image,fit:"contain"},null,8,["src"])],8,Ce)])]),_:1}),n(p,{span:1,xs:0}),n(p,{class:"top-blog top-blog-content",span:8,xs:18},{default:r(()=>[l("a",{href:`/news/${t.topBlog.slug}`,class:"blog-link"},[l("div",Re,[Le,(o(!0),i(T,null,S(t.topBlog.tags,s=>(o(),i("span",{class:"tag",key:s.id},f(s.name),1))),128))]),l("h1",Me,f(t.topBlog.title),1),t.topBlog.title?(o(),i("div",Ne)):b("",!0),l("div",qe,[(o(!0),i(T,null,S(t.topBlog.authors,(s,E)=>(o(),y(B,{class:"avatar",size:48,src:s.profile_image,"z-index":10-E,key:s},null,8,["src","z-index"]))),128)),l("div",Oe,[(o(!0),i(T,null,S(t.topBlog.authors,(s,E)=>(o(),i("span",{key:s},[l("span",{class:"author-name",innerHTML:s.name},null,8,je),E+1<t.topBlog.authors.length?(o(),i("span",He,",")):b("",!0)]))),128)),l("div",Ve,[l("span",Ye,f(t.formatDate(t.topBlog.published_at)),1),l("span",Fe,[Xe,I(f(t.topBlog.reading_time)+" min read",1)])])])]),l("p",Ge,f(t.topBlog.excerpt),1)],8,De)]),_:1})]),_:1})]),_:1}),n(u,{class:"container mt_80"},{default:r(()=>[n(m,{"content-position":"center"},{default:r(()=>[I("Featured Articles")]),_:1})]),_:1}),n(u,{class:"row-bg mt_48",justify:"center"},{default:r(()=>[n(p,{xs:20,span:14},{default:r(()=>[n(x,null,{default:r(()=>[(o(!0),i(T,null,S(t.featuredBlogs,s=>(o(),y(P,{key:s.id,timestamp:t.formatDate(s.published_at),hollow:"",placement:"top"},{default:r(()=>[l("a",{href:`/news/${s.slug}`,class:"blog-link"},[l("h4",Je,[l("span",Ke,[(o(!0),i(T,null,S(s.authors,(E,V)=>(o(),y(B,{class:"avatar",size:32,src:E.profile_image,key:E,"z-index":10-V},null,8,["src","z-index"]))),128))]),I(" "+f(s.title),1)]),l("p",Ze,f(s.excerpt),1)],8,Ue)]),_:2},1032,["timestamp"]))),128))]),_:1})]),_:1})]),_:1}),n(u,{class:"container mt_80 mb_24"},{default:r(()=>[n(m,{"content-position":"center"},{default:r(()=>[I("More Articles")]),_:1})]),_:1}),n(u,{class:"container mb_48",justify:"center"},{default:r(()=>[n(q,null,{default:r(()=>[(o(!0),i(T,null,S(t.tags,s=>(o(),y(N,{size:"large",round:"",type:[s.slug===t.activeTag?"primary":""],key:s.slug,onClick:E=>t.activeTag=s.slug},{default:r(()=>[I(f(s.name),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),_:1}),n(u,{class:"container"},{default:r(()=>[n(u,{gutter:30},{default:r(()=>[(o(!0),i(T,null,S(t.blogs,s=>(o(),y(p,{class:"blog-item",xs:24,sm:8,md:8,lg:8,xl:8,key:s.id},{default:r(()=>[n(O,{blog:s},null,8,["blog"])]),_:2},1024))),128))]),_:1})]),_:1}),t.blogs.length?(o(),y(u,{key:0,justify:"center"},{default:r(()=>[n(j,{background:"",layout:"prev, pager, next","page-size":9,total:t.total,currentPage:t.currentPage,"onUpdate:currentPage":e[0]||(e[0]=s=>t.currentPage=s)},null,8,["total","currentPage"])]),_:1})):b("",!0)])),[[H,t.loading,void 0,{fullscreen:!0}]])}var tt=$(xe,[["render",Qe],["__scopeId","data-v-2a872455"]]);export{tt as default};
