import{ae as N,ag as O,aZ as j,a_ as H,r as b,O as V,a$ as S,b0 as F,w as z,b1 as X,aN as Y,aj as U,ak as G,b2 as J,aB as K,aV as Z,aT as Q,aU as W,ai as $,b3 as ee,b4 as te,b5 as ae,M as se,z as n,D as c,G as s,B as o,A as k,a4 as P,al as oe,F as a,I as x,J as B,L as h,K as w,b6 as ne,aI as le,aJ as re}from"./index.7bc9ace3.js";import{E as ce}from"./divider.fc2da198.js";import{v as ie}from"./vue-social-sharing.4c7b5477.js";class _e{constructor(l){this.id=l,this.xOffset=.1,this.yOffset=.1,this.attack=.5,this.release=2,this.perspective=2e3,this.create()}create(){document.querySelectorAll(this.id).forEach(l=>{const u=l.getBoundingClientRect(),e="perspective("+this.perspective+"px) ";l.style.setProperty("transform-style","preserve-3d"),l.addEventListener("mouseenter",g=>{l.style.setProperty("transition","transform "+this.attack+"s")}),l.addEventListener("mousemove",g=>{let v=g.pageY-u.top,_=g.pageX-u.left;console.log(_,v);let d=this.map(_,0,u.width,-this.xOffset,this.xOffset),r=this.map(v,0,u.height,this.yOffset,-this.yOffset),m="rotateX("+r+"deg) ",y="rotateY("+d+"deg)";l.style.setProperty("transform",e+m+y)}),l.addEventListener("mouseleave",g=>{l.style.setProperty("transition","transform "+this.release+"s"),l.style.setProperty("transform",e+"rotateX(0deg) rotateY(0deg)")})})}map(l,u,e,g,v){return g-(v-g)*((l-u)/(e-u))}}const de={components:{ShareNetwork:ie.exports.ShareNetwork},setup(){O({...oe.blogs});const i=j(),l=H(),u=b([]),e=b([{slug:"all",name:"All"}]),g=b({}),v=b({}),_=b(i.query.tag||"all"),d=b(i.query.page||1),r=b(0),m=b(!1);V(async()=>{m.value=!0,S({filter:"featured:true"}).then(p=>{g.value=p.posts[0],v.value=p.posts.slice(1)}),F().then(p=>{e.value=e.value.concat(p)}),y(),new _e(".c-dynamicShadowImage")});const y=()=>{m.value=!0,S({limit:9,filter:_.value!=="all"?`tag:${_.value}`:void 0,page:d.value}).then(p=>{var E,T;p.posts.length>0?(u.value=p.posts,r.value=(T=(E=p.meta)==null?void 0:E.pagination)==null?void 0:T.total):d.value=1}).finally(()=>{m.value=!1})};return z(_,()=>{l.replace({path:i.path,query:{...i.query,tag:_.value}}),y()}),z(d,()=>{l.replace({path:i.path,query:{...i.query,page:d.value}}),y()}),{blogs:u,tags:e,topBlog:g,activeTag:_,formatDate:X,currentPage:d,total:r,loading:m,featuredBlogs:v}}},C=i=>(le("data-v-7ed93be1"),i=i(),re(),i),ue={class:"blogs"},ge=["href"],pe={class:"tags"},he=C(()=>a("span",{class:"tag tag--feature"},"FEATURED",-1)),fe={class:"mt_20 gradient padding"},me={class:"c-dynamicShadowImage"},ve={class:"mt_48 mb_32 excerpt-block"},ye={class:"author"},be={class:"article-byline-meta"},xe=["innerHTML"],Be={key:0,class:"author-sep"},ke={class:"byline-meta-content"},we={class:"publishAt"},Ee={class:"byline-reading-time"},Te=C(()=>a("span",{class:"bull"}," \u2022 ",-1)),Ae=["href"],Pe={class:"vertical-card-content top-blog",style:{padding:"2em"}},Ce={class:"floating-tag"},Se={class:"mb_32 mt_16 description"},ze={class:"author"},De={class:"article-byline-meta"},Ie=["innerHTML"],Le={key:0,class:"author-sep"},Re={class:"byline-meta-content"},Me={class:"publishAt"},qe={class:"byline-reading-time"},Ne=C(()=>a("span",{class:"bull"}," \u2022 ",-1));function Oe(i,l,u,e,g,v){const _=Y,d=U,r=G,m=J,y=K,p=ce,E=Z,T=Q,D=W,I=$,L=ee,R=ne,M=te,q=ae;return se((n(),c("div",ue,[s(m,{style:{"z-index":"1"}},{default:o(()=>[s(r,{class:"row-bg",justify:"center"},{default:o(()=>[s(d,{class:"top-blog",span:16,xs:20},{default:o(()=>[a("a",{href:`/news/${e.topBlog.slug}`},[a("div",pe,[he,(n(!0),c(x,null,B(e.topBlog.tags,t=>(n(),c("span",{class:"tag",key:t.id},h(t.name),1))),128))]),a("h1",fe,[a("span",null,h(e.topBlog.title),1)]),a("div",me,[s(_,{class:"feature-image feature-image--object",src:e.topBlog.feature_image,fit:"cover"},null,8,["src"]),s(_,{class:"feature-image feature-image--shadow",src:e.topBlog.feature_image,fit:"cover"},null,8,["src"])])],8,ge)]),_:1})]),_:1})]),_:1}),s(m,null,{default:o(()=>[s(r,null,{default:o(()=>[s(d,{class:"top-blog",xl:6,lg:8,xs:16,md:10,sm:12,offset:5},{default:o(()=>[a("p",ve,h(e.topBlog.excerpt),1),a("div",ye,[(n(!0),c(x,null,B(e.topBlog.authors,(t,f)=>(n(),k(y,{class:"avatar",size:36,src:t.profile_image,"z-index":10-f,key:t},null,8,["src","z-index"]))),128)),a("div",be,[(n(!0),c(x,null,B(e.topBlog.authors,(t,f)=>(n(),c("span",{key:t},[a("span",{class:"author-name",innerHTML:t.name},null,8,xe),f+1<e.topBlog.authors.length?(n(),c("span",Be,",")):P("",!0)]))),128)),a("div",ke,[a("span",we,h(e.formatDate(e.topBlog.published_at)),1),a("span",Ee,[Te,w(h(e.topBlog.reading_time)+" min read",1)])])])])]),_:1})]),_:1})]),_:1}),s(r,{class:"container mt_80"},{default:o(()=>[s(p,{"content-position":"center"},{default:o(()=>[w("Featured Articles")]),_:1})]),_:1}),s(r,{class:"row-bg mt_48",justify:"center"},{default:o(()=>[s(d,{span:22},{default:o(()=>[s(D,{interval:5e3,type:"card"},{default:o(()=>[(n(!0),c(x,null,B(e.featuredBlogs,t=>(n(),k(T,{key:t},{default:o(()=>[a("a",{href:`/news/${t.slug}`},[(n(),k(E,{"body-style":{padding:"0px",display:"inline-flex"},key:t.id,class:"hori-card",shadow:"hover"},{default:o(()=>[s(_,{src:t.feature_image,style:{"max-height":"100%","max-width":"40%",width:"auto",height:"auto"},fit:"cover"},null,8,["src"]),a("div",Pe,[a("p",Ce,h(t.tags[0].name),1),a("h4",null,h(t.title),1),a("p",Se,h(t.excerpt),1),a("div",ze,[(n(!0),c(x,null,B(t.authors,(f,A)=>(n(),k(y,{class:"avatar",size:32,src:f.profile_image,"z-index":10-A,key:f},null,8,["src","z-index"]))),128)),a("div",De,[(n(!0),c(x,null,B(t.authors,(f,A)=>(n(),c("span",{key:f},[a("span",{class:"author-name",innerHTML:f.name},null,8,Ie),A+1<t.authors.length?(n(),c("span",Le,",")):P("",!0)]))),128)),a("div",Re,[a("span",Me,h(e.formatDate(t.published_at)),1),a("span",qe,[Ne,w(h(t.reading_time)+" min read",1)])])])])])]),_:2},1024))],8,Ae)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),s(r,{id:"more-articles",class:"container mt_32 mb_24 more_articles"},{default:o(()=>[s(p,{"content-position":"center"},{default:o(()=>[w("All Articles")]),_:1})]),_:1}),s(r,{class:"container mb_48",justify:"center"},{default:o(()=>[s(L,null,{default:o(()=>[(n(!0),c(x,null,B(e.tags,t=>(n(),k(I,{size:"large",round:"",type:t.slug===e.activeTag?"primary":"",key:t.slug,onClick:f=>e.activeTag=t.slug},{default:o(()=>[w(h(t.name),1)]),_:2},1032,["type","onClick"]))),128))]),_:1})]),_:1}),s(r,{class:"container"},{default:o(()=>[s(r,{gutter:30},{default:o(()=>[(n(!0),c(x,null,B(e.blogs,t=>(n(),k(d,{class:"blog-item",xs:24,sm:8,md:8,lg:8,xl:8,key:t.id},{default:o(()=>[s(R,{blog:t},null,8,["blog"])]),_:2},1024))),128))]),_:1})]),_:1}),e.blogs.length?(n(),k(r,{key:0,justify:"center"},{default:o(()=>[s(M,{background:"",layout:"prev, pager, next","page-size":9,total:e.total,currentPage:e.currentPage,"onUpdate:currentPage":l[0]||(l[0]=t=>e.currentPage=t)},null,8,["total","currentPage"])]),_:1})):P("",!0)])),[[q,e.loading]])}var Fe=N(de,[["render",Oe],["__scopeId","data-v-7ed93be1"]]);export{Fe as default};
