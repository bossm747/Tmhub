import{m as me,X as ve,by as ge,Y as fe,j as s,i as S,w as ce,k as F,bu as de,E as be,bz as ee,bA as he,H as ye,l as Z,h as _e,ae as pe,u as xe,bf as we,ag as Se,ah as ke,K as Ve,bt as Pe,aj as T,ak as g,al as w,ap as A,az as r,aA as te,an as i,au as _,am as n,U as R,bc as le,ar as ae,as as ne,at as D,bb as qe,ay as Ce,av as se,aq as oe,ao as Be,aY as Qe,a3 as je,a$ as Ne,aw as Y,ax as Ie,bB as ue}from"./index.97bcde4d.js";import{Q as ie}from"./QImg.6c1113e8.js";import{Q as K}from"./QItemLabel.a4060d7c.js";import{a as L,Q as De}from"./QTabs.aff2fcd2.js";import{b as Le}from"./format.a33550d6.js";import{Q as Me}from"./QPage.ec767c89.js";import{u as $e,A as Ee}from"./blogs.8b5b017f.js";import{_ as re}from"./NewsVerticalCard.9af4fa19.js";import{D as Fe,P as Te}from"./common.ce66fc66.js";import"./QResizeObserver.f7cb673c.js";import"./rtl.b51694b1.js";import"./plugin-vue_export-helper.21dcd24c.js";function H(e,u){return[!0,!1].includes(e)?e:u}var Ae=me({name:"QPagination",props:{...ve,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ge.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:u}){const{proxy:k}=be(),{$q:h}=k,G=fe(e,h),d=s(()=>parseInt(e.min,10)),c=s(()=>parseInt(e.max,10)),O=s(()=>parseInt(e.maxPages,10)),U=s(()=>P.value+" / "+c.value),W=s(()=>H(e.boundaryLinks,e.input)),Q=s(()=>H(e.boundaryNumbers,!e.input)),X=s(()=>H(e.directionLinks,e.input)),$=s(()=>H(e.ellipses,!e.input)),V=S(null),P=s({get:()=>e.modelValue,set:a=>{if(a=parseInt(a,10),e.disable||isNaN(a))return;const t=Le(a,d.value,c.value);e.modelValue!==t&&u("update:modelValue",t)}});ce(()=>`${d.value}|${c.value}`,()=>{P.value=e.modelValue});const C=s(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),B=s(()=>e.gutter in ee?`${ee[e.gutter]}px`:e.gutter||null),E=s(()=>B.value!==null?`--q-pagination-gutter-parent:-${B.value};--q-pagination-gutter-child:${B.value}`:null),p=s(()=>{const a=[e.iconFirst||h.iconSet.pagination.first,e.iconPrev||h.iconSet.pagination.prev,e.iconNext||h.iconSet.pagination.next,e.iconLast||h.iconSet.pagination.last];return h.lang.rtl===!0?a.reverse():a}),j=s(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),M=s(()=>he(e,"flat")),b=s(()=>({[M.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),f=s(()=>{const a={[M.value]:!1};return e.activeDesign!==""&&(a[e.activeDesign]=!0),a}),o=s(()=>({...f.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),l=s(()=>{let a=Math.max(O.value,1+($.value?2:0)+(Q.value?2:0));const t={pgFrom:d.value,pgTo:c.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(c.value).length)}em`}};return O.value&&a<c.value-d.value+1&&(a=1+Math.floor(a/2)*2,t.pgFrom=Math.max(d.value,Math.min(c.value-a+1,e.modelValue-Math.floor(a/2))),t.pgTo=Math.min(c.value,t.pgFrom+a-1),Q.value&&(t.boundaryStart=!0,t.pgFrom++),$.value&&t.pgFrom>d.value+(Q.value?1:0)&&(t.ellipsesStart=!0,t.pgFrom++),Q.value&&(t.boundaryEnd=!0,t.pgTo--),$.value&&t.pgTo<c.value-(Q.value?1:0)&&(t.ellipsesEnd=!0,t.pgTo--)),t});function q(a){P.value=a}function z(a){P.value=P.value+a}const J=s(()=>{function a(){P.value=V.value,V.value=null}return{"onUpdate:modelValue":t=>{V.value=t},onKeyup:t=>{ye(t,13)===!0&&a()},onBlur:a}});function y(a,t,v){const m={"aria-label":t,"aria-current":"false",...b.value,...a};return v===!0&&Object.assign(m,{"aria-current":"true",...o.value}),t!==void 0&&(e.toFn!==void 0?m.to=e.toFn(t):m.onClick=()=>{q(t)}),F(Z,m)}return Object.assign(k,{set:q,setByOffset:z}),()=>{const a=[],t=[];let v;if(W.value===!0&&(a.push(y({key:"bls",disable:e.disable||e.modelValue<=d.value,icon:p.value[0]},d.value)),t.unshift(y({key:"ble",disable:e.disable||e.modelValue>=c.value,icon:p.value[3]},c.value))),X.value===!0&&(a.push(y({key:"bdp",disable:e.disable||e.modelValue<=d.value,icon:p.value[1]},e.modelValue-1)),t.unshift(y({key:"bdn",disable:e.disable||e.modelValue>=c.value,icon:p.value[2]},e.modelValue+1))),e.input!==!0){v=[];const{pgFrom:m,pgTo:N,marginalStyle:I}=l.value;if(l.value.boundaryStart===!0){const x=d.value===e.modelValue;a.push(y({key:"bns",style:I,disable:e.disable,label:d.value},d.value,x))}if(l.value.boundaryEnd===!0){const x=c.value===e.modelValue;t.unshift(y({key:"bne",style:I,disable:e.disable,label:c.value},c.value,x))}l.value.ellipsesStart===!0&&a.push(y({key:"bes",style:I,disable:e.disable,label:"\u2026",ripple:!1},m-1)),l.value.ellipsesEnd===!0&&t.unshift(y({key:"bee",style:I,disable:e.disable,label:"\u2026",ripple:!1},N+1));for(let x=m;x<=N;x++)v.push(y({key:`bpg${x}`,style:I,disable:e.disable,label:x},x,x===e.modelValue))}return F("div",{class:C.value,...j.value},[F("div",{class:"q-pagination__content row no-wrap items-center",style:E.value},[...a,e.input===!0?F(de,{class:"inline",style:{width:`${U.value.length/1.5}em`},type:"number",dense:!0,value:V.value,disable:e.disable,dark:G.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:U.value,min:d.value,max:c.value,...J.value}):F("div",{class:"q-pagination__middle row justify-center"},v),...t])])}}});const Oe={key:0,class:"row justify-center q-my-xl q-py-xl"},Ue={class:"col-11 col-xl-9"},ze={class:"row justify-start items-center q-mt-lg text-grey-2 text-h5"},Re={class:"q-my-lg"},Ye={class:"row justify-between items-center q-mb-xl"},Ke={class:"col-12 col-md-6 cursor-pointer self-stretch"},He={class:"q-pa-sm full-height"},Ge=r("span",{class:"q-focus-helper"},null,-1),We={class:"col-12 col-md-6 column self-stretch no-wrap"},Xe=r("div",{class:"row q-my-xl"},null,-1),Je={class:"row justify-between q-my-xl"},Ze={class:"col-12 col-md-9 q-px-sm"},et={key:0,class:"row justify-center"},tt={class:"col-12 col-md-3 q-px-md"},lt={class:"text-grey-4"},at={class:"row justify-between items-center q-mb-xl"},nt={class:"row justify-between items-center"},st={class:"text-h6 text-overline"},ot={class:"row items-center"},ut={class:"row justify-between items-center"},it={class:"text-h6 text-overline"},xt=_e({__name:"NewsroomPage",setup(e){const{t:u}=pe({useScope:"global"}),k=xe(),h=$e(),G=we(),d=S(G.query.tag||"all"),{blogs:c,authors:O,allBlogs:U}=Se(h),W=s(()=>O.value.map(f=>({label:f.name,value:f.name}))),Q=s(()=>{const f=Fe.map(l=>l.subItems?l.subItems:l),o=Te.map(l=>l);return o.push(...f.flat()),o.map(l=>({label:l.label,value:l.label,icon:l.icon}))}),X=ke(),$=f=>{X.push(`/news/${f}`)},V=S(!1),P=S(!0),C=S(1),B=S(1),E=S(""),p=S([]),j=S([]),M=S([]);ce([d,C,E,j,p,U],async([f,o,l,q,z,J],[y,a])=>{f!==y&&(P.value=!1,V.value=!0);let t=J;if(q.length>0&&(t=t.filter(v=>q.map(m=>m.toLowerCase()).some(m=>v.title.toLowerCase().includes(m)))),z.length>0&&(t=t.filter(v=>z.some(m=>v.authors.map(N=>N.name).includes(m)))),f!=="all"&&(f==="featured"?t=t.filter(v=>v.featured):t=t.filter(v=>v.tags.map(m=>m.name.toLowerCase()).includes(f))),l&&(t=t.filter(v=>v.title.toLowerCase().includes(l.toLowerCase()))),t.length>0){const m=t.length;B.value=Math.ceil(m/6),a&&a>B.value&&(C.value=1);const N=(C.value-1)*6,I=N+6;M.value=t.slice(N,I)}else B.value=0,C.value=1,M.value=[];P.value=!0,V.value=!1},{immediate:!0});const b=s(()=>c.value.featured);return Ve(async()=>{c.value.featured.length===0&&await h.getNewsBy({tag:"featured"}),await h.getAuthors(),await h.getAllNews()}),Pe({title:u("newsroom_page.title"),meta:[{name:"title",content:u("newsroom_page.title")},{name:"description",content:u("newsroom_page.description")}]}),(f,o)=>(w(),T(Me,null,{default:g(()=>[b.value.length?(w(),A("div",Oe,[r("div",Ue,[r("div",{class:te(["text-h1 q-mt-xl text-weight-bold",{"text-h1":i(k).screen.xl||i(k).screen.lg,"text-h2":i(k).screen.md,"text-h3":i(k).screen.sm,"text-h4":i(k).screen.xs}])},_(i(u)("newsroom_page.title")),3),r("div",ze,[n(R,{name:"whatshot"}),r("div",Re,_(i(u)("newsroom_page.top_stories")),1)]),r("div",Ye,[r("div",Ke,[r("div",He,[n(Ce,{flat:"",class:"full-height q-hoverable",onClick:o[0]||(o[0]=l=>$(b.value[0].slug)),style:{overflow:"hidden"}},{default:g(()=>[Ge,n(ie,{src:b.value[0].featureImage},null,8,["src"]),n(le,null,{default:g(()=>[n(ae,null,{default:g(()=>[n(ne,null,{default:g(()=>[n(K,{lines:"2",class:"text-h5 text-weight-light q-mb-lg"},{default:g(()=>[D(_(b.value[0].title),1)]),_:1}),n(K,{caption:""},{default:g(()=>[D(_(b.value[0].excerpt),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(le,null,{default:g(()=>[n(ae,null,{default:g(()=>[n(Ee,{authors:b.value[0].authors},null,8,["authors"]),n(ne,null,{default:g(()=>[n(K,null,{default:g(()=>[D(_(b.value[0].authors.map(l=>l.name).join(", ")),1)]),_:1}),n(K,{caption:""},{default:g(()=>[D(_(i(qe)(b.value[0].publishedAt).format("MMMM DD, YYYY"))+" \u2022 "+_(b.value[0].readingTime)+" "+_(i(u)("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),r("div",We,[(w(!0),A(se,null,oe(b.value.slice(1,3),(l,q)=>(w(),A("div",{class:"col-6 q-pa-sm",key:q},[n(re,{item:l,class:"full-height"},null,8,["item"])]))),128))])]),Xe,r("div",Je,[r("div",Ze,[n(De,{modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=l=>d.value=l),"inline-label":"","active-color":"white",align:"left"},{default:g(()=>[n(L,{name:"all",label:i(u)("blog_tags.all"),icon:"collections_bookmark"},null,8,["label"]),n(L,{name:"tech blog",label:i(u)("blog_tags.tech-blog")},null,8,["label"]),n(L,{name:"releases",label:i(u)("blog_tags.releases")},null,8,["label"]),n(L,{name:"insights",label:i(u)("blog_tags.insights")},null,8,["label"]),n(L,{name:"knowledge base",label:i(u)("blog_tags.knowledge-base")},null,8,["label"]),n(L,{name:"events",label:i(u)("blog_tags.events")},null,8,["label"]),n(L,{name:"featured",label:i(u)("blog_tags.featured"),icon:"star"},null,8,["label"])]),_:1},8,["modelValue"]),n(Be),V.value?(w(),A("div",et,[n(Qe,{color:"white",size:"xl",class:"q-my-xl"})])):(w(!0),A(se,{key:1},oe(M.value,(l,q)=>(w(),T(re,{key:q,item:l,class:"q-my-md"},null,8,["item"]))),128)),je(n(Ae,{"active-design":"flat","active-text-color":"white","text-color":"grey-6",modelValue:C.value,"onUpdate:modelValue":o[2]||(o[2]=l=>C.value=l),max:B.value,"max-pages":5,"direction-links":"","boundary-links":"",class:te(["row justify-center",i(k).screen.gt.xs?"q-ma-xl":"q-ma-lg"])},null,8,["modelValue","max","class"]),[[Ne,!V.value]])]),r("div",tt,[r("div",lt,[r("div",at,[n(de,{outlined:"",square:"",modelValue:E.value,"onUpdate:modelValue":o[3]||(o[3]=l=>E.value=l),placeholder:i(u)("newsroom_page.search"),class:"full-width"},{append:g(()=>[n(R,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),r("div",nt,[r("div",st,[n(R,{name:"filter_alt"}),D(" "+_(i(u)("newsroom_page.product")),1)]),j.value.length?(w(),T(Z,{key:0,"no-caps":"",flat:"",round:"",onClick:o[4]||(o[4]=l=>j.value=[]),icon:"clear"})):Y("",!0)]),n(ue,{options:Q.value,type:"checkbox",modelValue:j.value,"onUpdate:modelValue":o[5]||(o[5]=l=>j.value=l),inline:"",class:"q-mb-xl"},{label:g(l=>[r("div",ot,[n(Ie,null,{default:g(()=>[l.icon?(w(),T(ie,{key:0,fit:"contain",height:"32px",width:"32px",src:l.icon},null,8,["src"])):Y("",!0)]),_:2},1024),D(" "+_(l.label),1)])]),_:1},8,["options","modelValue"]),r("div",ut,[r("div",it,[n(R,{name:"filter_alt"}),D(" "+_(i(u)("newsroom_page.author")),1)]),p.value.length?(w(),T(Z,{key:0,"no-caps":"",flat:"",round:"",onClick:o[6]||(o[6]=l=>p.value=[]),icon:"clear"})):Y("",!0)]),n(ue,{options:W.value,type:"checkbox",modelValue:p.value,"onUpdate:modelValue":o[7]||(o[7]=l=>p.value=l),inline:""},null,8,["options","modelValue"])])])])])])):Y("",!0)]),_:1}))}});export{xt as default};
