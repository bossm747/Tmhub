import{m as me,X as ve,by as ge,Y as fe,j as s,i as V,w as ce,k as E,bu as de,E as be,bz as ee,bA as he,H as ye,l as Z,h as _e,ae as pe,u as xe,bf as we,ag as Se,K as ke,bt as Ve,aj as F,ak as m,al as k,ap as T,az as r,aA as te,an as i,au as x,am as n,U as z,bc as le,ar as ae,as as ne,at as N,bb as Pe,ay as qe,av as se,aq as oe,ao as Ce,aY as Be,a3 as Qe,a$ as je,aw as Y,ax as Ne,bB as ue}from"./index.204aff59.js";import{Q as ie}from"./QImg.26f71ad3.js";import{Q as R}from"./QItemLabel.6bf97682.js";import{a as I,Q as Ie}from"./QTabs.22c9a17c.js";import{b as De}from"./format.a33550d6.js";import{Q as Le}from"./QPage.f9443db7.js";import{u as Me,A as $e}from"./blogs.6b219453.js";import{_ as re}from"./NewsVerticalCard.a7a1b18a.js";import{D as Ee,P as Fe}from"./common.0703f4d6.js";import"./QResizeObserver.1457b7ee.js";import"./rtl.b51694b1.js";import"./plugin-vue_export-helper.21dcd24c.js";function K(e,u){return[!0,!1].includes(e)?e:u}var Te=me({name:"QPagination",props:{...ve,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ge.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:u}){const{proxy:P}=be(),{$q:p}=P,H=fe(e,p),d=s(()=>parseInt(e.min,10)),c=s(()=>parseInt(e.max,10)),A=s(()=>parseInt(e.maxPages,10)),O=s(()=>f.value+" / "+c.value),G=s(()=>K(e.boundaryLinks,e.input)),C=s(()=>K(e.boundaryNumbers,!e.input)),W=s(()=>K(e.directionLinks,e.input)),q=s(()=>K(e.ellipses,!e.input)),B=V(null),f=s({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const l=De(t,d.value,c.value);e.modelValue!==l&&u("update:modelValue",l)}});ce(()=>`${d.value}|${c.value}`,()=>{f.value=e.modelValue});const D=s(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),Q=s(()=>e.gutter in ee?`${ee[e.gutter]}px`:e.gutter||null),j=s(()=>Q.value!==null?`--q-pagination-gutter-parent:-${Q.value};--q-pagination-gutter-child:${Q.value}`:null),w=s(()=>{const t=[e.iconFirst||p.iconSet.pagination.first,e.iconPrev||p.iconSet.pagination.prev,e.iconNext||p.iconSet.pagination.next,e.iconLast||p.iconSet.pagination.last];return p.lang.rtl===!0?t.reverse():t}),L=s(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),b=s(()=>he(e,"flat")),g=s(()=>({[b.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),o=s(()=>{const t={[b.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),a=s(()=>({...o.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),h=s(()=>{let t=Math.max(A.value,1+(q.value?2:0)+(C.value?2:0));const l={pgFrom:d.value,pgTo:c.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(c.value).length)}em`}};return A.value&&t<c.value-d.value+1&&(t=1+Math.floor(t/2)*2,l.pgFrom=Math.max(d.value,Math.min(c.value-t+1,e.modelValue-Math.floor(t/2))),l.pgTo=Math.min(c.value,l.pgFrom+t-1),C.value&&(l.boundaryStart=!0,l.pgFrom++),q.value&&l.pgFrom>d.value+(C.value?1:0)&&(l.ellipsesStart=!0,l.pgFrom++),C.value&&(l.boundaryEnd=!0,l.pgTo--),q.value&&l.pgTo<c.value-(C.value?1:0)&&(l.ellipsesEnd=!0,l.pgTo--)),l});function M(t){f.value=t}function X(t){f.value=f.value+t}const J=s(()=>{function t(){f.value=B.value,B.value=null}return{"onUpdate:modelValue":l=>{B.value=l},onKeyup:l=>{ye(l,13)===!0&&t()},onBlur:t}});function y(t,l,v){const _={"aria-label":l,"aria-current":"false",...g.value,...t};return v===!0&&Object.assign(_,{"aria-current":"true",...a.value}),l!==void 0&&(e.toFn!==void 0?_.to=e.toFn(l):_.onClick=()=>{M(l)}),E(Z,_)}return Object.assign(P,{set:M,setByOffset:X}),()=>{const t=[],l=[];let v;if(G.value===!0&&(t.push(y({key:"bls",disable:e.disable||e.modelValue<=d.value,icon:w.value[0]},d.value)),l.unshift(y({key:"ble",disable:e.disable||e.modelValue>=c.value,icon:w.value[3]},c.value))),W.value===!0&&(t.push(y({key:"bdp",disable:e.disable||e.modelValue<=d.value,icon:w.value[1]},e.modelValue-1)),l.unshift(y({key:"bdn",disable:e.disable||e.modelValue>=c.value,icon:w.value[2]},e.modelValue+1))),e.input!==!0){v=[];const{pgFrom:_,pgTo:U,marginalStyle:$}=h.value;if(h.value.boundaryStart===!0){const S=d.value===e.modelValue;t.push(y({key:"bns",style:$,disable:e.disable,label:d.value},d.value,S))}if(h.value.boundaryEnd===!0){const S=c.value===e.modelValue;l.unshift(y({key:"bne",style:$,disable:e.disable,label:c.value},c.value,S))}h.value.ellipsesStart===!0&&t.push(y({key:"bes",style:$,disable:e.disable,label:"\u2026",ripple:!1},_-1)),h.value.ellipsesEnd===!0&&l.unshift(y({key:"bee",style:$,disable:e.disable,label:"\u2026",ripple:!1},U+1));for(let S=_;S<=U;S++)v.push(y({key:`bpg${S}`,style:$,disable:e.disable,label:S},S,S===e.modelValue))}return E("div",{class:D.value,...L.value},[E("div",{class:"q-pagination__content row no-wrap items-center",style:j.value},[...t,e.input===!0?E(de,{class:"inline",style:{width:`${O.value.length/1.5}em`},type:"number",dense:!0,value:B.value,disable:e.disable,dark:H.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:O.value,min:d.value,max:c.value,...J.value}):E("div",{class:"q-pagination__middle row justify-center"},v),...l])])}}});const Ae={key:0,class:"row justify-center q-my-xl q-py-xl"},Oe={class:"col-11 col-xl-9"},Ue={class:"row justify-start items-center q-mt-lg text-grey-2 text-h5"},ze={class:"q-my-lg"},Ye={class:"row justify-between items-center q-mb-xl"},Re={class:"col-12 col-md-6 cursor-pointer self-stretch"},Ke={class:"q-pa-sm full-height"},He=r("span",{class:"q-focus-helper"},null,-1),Ge={class:"col-12 col-md-6 column self-stretch no-wrap"},We=r("div",{class:"row q-my-xl"},null,-1),Xe={class:"row justify-between q-my-xl"},Je={class:"col-12 col-md-9 q-px-sm"},Ze={key:0,class:"row justify-center"},et={class:"col-12 col-md-3 q-px-md"},tt={class:"text-grey-4"},lt={class:"row justify-between items-center q-mb-xl"},at={class:"row justify-between items-center"},nt={class:"text-h6 text-overline"},st={class:"row items-center"},ot={class:"row justify-between items-center"},ut={class:"text-h6 text-overline"},pt=_e({__name:"NewsroomPage",setup(e){const{t:u}=pe({useScope:"global"}),P=xe(),p=Me(),H=we(),d=V(H.query.tag||"all"),{blogs:c,authors:A,allBlogs:O}=Se(p),G=s(()=>A.value.map(g=>({label:g.name,value:g.name}))),C=s(()=>{const g=Ee.map(a=>a.subItems?a.subItems:a),o=Fe.map(a=>a);return o.push(...g.flat()),o.map(a=>({label:a.label,value:a.label,icon:a.icon}))}),W=g=>{window.open(`/news/${g}`,"__blank")},q=V(!1),B=V(!0),f=V(1),D=V(1),Q=V(""),j=V([]),w=V([]),L=V([]);ce([d,f,Q,w,j,O],async([g,o,a,h,M,X],[J,y])=>{g!==J&&(B.value=!1,q.value=!0);let t=X;if(h.length>0&&(t=t.filter(l=>h.map(v=>v.toLowerCase()).some(v=>l.title.toLowerCase().includes(v)))),M.length>0&&(t=t.filter(l=>M.some(v=>l.authors.map(_=>_.name).includes(v)))),g!=="all"&&(g==="featured"?t=t.filter(l=>l.featured):t=t.filter(l=>l.tags.map(v=>v.name.toLowerCase()).includes(g))),a&&(t=t.filter(l=>l.title.toLowerCase().includes(a.toLowerCase()))),t.length>0){const v=t.length;D.value=Math.ceil(v/6),y&&y>D.value&&(f.value=1);const _=(f.value-1)*6,U=_+6;L.value=t.slice(_,U)}else D.value=0,f.value=1,L.value=[];B.value=!0,q.value=!1},{immediate:!0});const b=s(()=>c.value.featured);return ke(async()=>{c.value.featured.length===0&&await p.getNewsBy({tag:"featured"}),await p.getAuthors(),await p.getAllNews()}),Ve({title:u("newsroom_page.title"),meta:[{name:"title",content:u("newsroom_page.title")},{name:"description",content:u("newsroom_page.description")}]}),(g,o)=>(k(),F(Le,null,{default:m(()=>[b.value.length?(k(),T("div",Ae,[r("div",Oe,[r("div",{class:te(["text-h1 q-mt-xl text-weight-bold",{"text-h1":i(P).screen.xl||i(P).screen.lg,"text-h2":i(P).screen.md,"text-h3":i(P).screen.sm,"text-h4":i(P).screen.xs}])},x(i(u)("newsroom_page.title")),3),r("div",Ue,[n(z,{name:"whatshot"}),r("div",ze,x(i(u)("newsroom_page.top_stories")),1)]),r("div",Ye,[r("div",Re,[r("div",Ke,[n(qe,{flat:"",class:"full-height q-hoverable",onClick:o[0]||(o[0]=a=>W(b.value[0].slug)),style:{overflow:"hidden"}},{default:m(()=>[He,n(ie,{src:b.value[0].featureImage},null,8,["src"]),n(le,null,{default:m(()=>[n(ae,null,{default:m(()=>[n(ne,null,{default:m(()=>[n(R,{lines:"2",class:"text-h5 text-weight-light q-mb-lg"},{default:m(()=>[N(x(b.value[0].title),1)]),_:1}),n(R,{caption:""},{default:m(()=>[N(x(b.value[0].excerpt),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(le,null,{default:m(()=>[n(ae,null,{default:m(()=>[n($e,{authors:b.value[0].authors},null,8,["authors"]),n(ne,null,{default:m(()=>[n(R,null,{default:m(()=>[N(x(b.value[0].authors.map(a=>a.name).join(", ")),1)]),_:1}),n(R,{caption:""},{default:m(()=>[N(x(i(Pe)(b.value[0].publishedAt).format("MMMM DD, YYYY"))+" \u2022 "+x(b.value[0].readingTime)+" "+x(i(u)("newsroom_page.minutes_read")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),r("div",Ge,[(k(!0),T(se,null,oe(b.value.slice(1,3),(a,h)=>(k(),T("div",{class:"col-6 q-pa-sm",key:h},[n(re,{item:a,class:"full-height"},null,8,["item"])]))),128))])]),We,r("div",Xe,[r("div",Je,[n(Ie,{modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=a=>d.value=a),"inline-label":"","active-color":"white",align:"left"},{default:m(()=>[n(I,{name:"all",label:i(u)("blog_tags.all"),icon:"collections_bookmark"},null,8,["label"]),n(I,{name:"tech blog",label:i(u)("blog_tags.tech-blog")},null,8,["label"]),n(I,{name:"releases",label:i(u)("blog_tags.releases")},null,8,["label"]),n(I,{name:"insights",label:i(u)("blog_tags.insights")},null,8,["label"]),n(I,{name:"knowledge base",label:i(u)("blog_tags.knowledge-base")},null,8,["label"]),n(I,{name:"events",label:i(u)("blog_tags.events")},null,8,["label"]),n(I,{name:"featured",label:i(u)("blog_tags.featured"),icon:"star"},null,8,["label"])]),_:1},8,["modelValue"]),n(Ce),q.value?(k(),T("div",Ze,[n(Be,{color:"white",size:"xl",class:"q-my-xl"})])):(k(!0),T(se,{key:1},oe(L.value,(a,h)=>(k(),F(re,{key:h,item:a,class:"q-my-md"},null,8,["item"]))),128)),Qe(n(Te,{"active-design":"flat","active-text-color":"white","text-color":"grey-6",modelValue:f.value,"onUpdate:modelValue":o[2]||(o[2]=a=>f.value=a),max:D.value,"max-pages":5,"direction-links":"","boundary-links":"",class:te(["row justify-center",i(P).screen.gt.xs?"q-ma-xl":"q-ma-lg"])},null,8,["modelValue","max","class"]),[[je,!q.value]])]),r("div",et,[r("div",tt,[r("div",lt,[n(de,{outlined:"",square:"",modelValue:Q.value,"onUpdate:modelValue":o[3]||(o[3]=a=>Q.value=a),placeholder:i(u)("newsroom_page.search"),class:"full-width"},{append:m(()=>[n(z,{name:"search"})]),_:1},8,["modelValue","placeholder"])]),r("div",at,[r("div",nt,[n(z,{name:"filter_alt"}),N(" "+x(i(u)("newsroom_page.product")),1)]),w.value.length?(k(),F(Z,{key:0,"no-caps":"",flat:"",round:"",onClick:o[4]||(o[4]=a=>w.value=[]),icon:"clear"})):Y("",!0)]),n(ue,{options:C.value,type:"checkbox",modelValue:w.value,"onUpdate:modelValue":o[5]||(o[5]=a=>w.value=a),inline:"",class:"q-mb-xl"},{label:m(a=>[r("div",st,[n(Ne,null,{default:m(()=>[a.icon?(k(),F(ie,{key:0,fit:"contain",height:"32px",width:"32px",src:a.icon},null,8,["src"])):Y("",!0)]),_:2},1024),N(" "+x(a.label),1)])]),_:1},8,["options","modelValue"]),r("div",ot,[r("div",ut,[n(z,{name:"filter_alt"}),N(" "+x(i(u)("newsroom_page.author")),1)]),j.value.length?(k(),F(Z,{key:0,"no-caps":"",flat:"",round:"",onClick:o[6]||(o[6]=a=>j.value=[]),icon:"clear"})):Y("",!0)]),n(ue,{options:G.value,type:"checkbox",modelValue:j.value,"onUpdate:modelValue":o[7]||(o[7]=a=>j.value=a),inline:""},null,8,["options","modelValue"])])])])])])):Y("",!0)]),_:1}))}});export{pt as default};
