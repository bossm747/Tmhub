<!DOCTYPE html><html lang="en"><head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" as="style" data-href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&amp;display=swap" data-optimized-fonts="true"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta property="og:title" content="Jina AI is a Neural Search Company"/><meta name="author" content="Jina AI"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Jina AI"/><meta property="og:image" content="https://jina.ai/assets/images/blog/2022-01-13_DocArray/docarray-banner.png"/><meta property="og:type" content="website"/><meta property="og:description" content="https://jina.aiThis blog post will introduce DocArray, define its advantages, and help you to understand its usage."/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:image" content="https://jina.ai/assets/images/blog/2022-01-13_DocArray/docarray-banner.png"/><meta property="twitter:title" content="Jina AI is a Neural Search Company"/><meta property="twitter:description" content="https://jina.aiThis blog post will introduce DocArray, define its advantages, and help you to understand its usage."/><meta name="twitter:site" content="@JinaAI_"/><meta name="twitter:creator" content="@JinaAI_"/><link rel="apple-touch-icon" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-96x96.png"/><link rel="icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&amp;display=swap" data-optimized-fonts="true"/><title>Jina AI | Jina AI is a Neural Search Company</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="https://jina.aiThis blog post will introduce DocArray, define its advantages, and help you to understand its usage."/><meta property="og:url" content="https://jina.ai/"/><meta property="og:title" content="Jina AI | Jina AI is a Neural Search Company"/><meta property="og:description" content="https://jina.aiThis blog post will introduce DocArray, define its advantages, and help you to understand its usage."/><meta property="og:locale" content="en"/><meta property="og:site_name" content="Jina AI, Ltd"/><link rel="canonical" href="https://jina.ai/"/><meta name="next-head-count" content="33"/><link rel="preload" href="/_next/static/css/8fb6abc1994b1d30e095.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8fb6abc1994b1d30e095.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-f47d69457824065d04c3.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-18f21ab86863c15f7e5d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5e6bbd2a974b4a7955a3.js" defer=""></script><script src="/_next/static/chunks/419-4e2ec04e0cd626c3ac83.js" defer=""></script><script src="/_next/static/chunks/522-f41528aa8639e5478b36.js" defer=""></script><script src="/_next/static/chunks/100-86ec9db0b741b2c97beb.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-76b932a6871d2f15c15b.js" defer=""></script><script src="/_next/static/6oOg4XGyq7AQDvscMvfY8/_buildManifest.js" defer=""></script><script src="/_next/static/6oOg4XGyq7AQDvscMvfY8/_ssgManifest.js" defer=""></script><style id="__jsx-3128403005">.dropdown.jsx-3128403005{--tw-bg-opacity:1;background-color:rgba(255,255,255,var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(74,85,104,var(--tw-text-opacity));top:5rem;width:100%;border-radius:0.75rem;}.dropdown.jsx-3128403005>.jsx-3128403005:not([hidden])~.jsx-3128403005:not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));border-style:solid;--tw-divide-opacity:1;border-color:rgba(235,235,235,var(--tw-divide-opacity));}</style><style id="__jsx-1573896879">.navbar.jsx-1573896879 a{display:inline-block;width:100%;}.navbar.jsx-1573896879 li:not(:first-child){margin-top:0.75rem;}.navbar.jsx-1573896879 a .btn{width:100%;}.navbar.jsx-1573896879 a:hover{--tw-text-opacity:1;color:rgba(0,129,129,var(--tw-text-opacity));}@media (min-width:640px){.navbar.jsx-1573896879 a,.navbar.jsx-1573896879 a .btn{width:auto;}.navbar.jsx-1573896879 li:not(:first-child){margin-top:0px;}.navbar.jsx-1573896879>li.jsx-1573896879:not(:last-child){margin-right:1.25rem;}}</style><style id="__jsx-3112819368">.top-nav-bar.jsx-3112819368{box-shadow:3px 6px 33px 0px #cdcdcd40;z-index:200;position:fixed;width:100vw;background:white;top:0;}button.jsx-3112819368:hover{opacity:0.7;}</style><style id="__jsx-1324436386">.footer-links.jsx-1324436386 li{margin-top:0.25rem;}.footer-items-title.jsx-1324436386{font-size:1.375rem;line-height:1.5rem;-webkit-letter-spacing:0.22px;-moz-letter-spacing:0.22px;-ms-letter-spacing:0.22px;letter-spacing:0.22px;}</style><style id="__jsx-1956813867">.footer-left-margin.jsx-1956813867{width:20rem;height:inherit;background:no-repeat 40% 20%/30% url("/assets/images/planet-beige.svg");}.footer-right-margin.jsx-1956813867{width:16rem;height:inherit;background:no-repeat 10% 10%/50% url("/assets/images/planet-green.svg");}</style><style data-href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap">@font-face{font-family:'Poppins';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLFj_V1g.woff) format('woff')}@font-face{font-family:'Poppins';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLDz8V1g.woff) format('woff')}@font-face{font-family:'Poppins';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrFJM.woff) format('woff')}@font-face{font-family:'Poppins';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLGT9V1g.woff) format('woff')}@font-face{font-family:'Poppins';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6V1g.woff) format('woff')}@font-face{font-family:'Poppins';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLCz7V1g.woff) format('woff')}@font-face{font-family:'Poppins';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLFj_Z11lFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0900-097F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:'Poppins';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLFj_Z1JlFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Poppins';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLFj_Z1xlFd2JQEk.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Poppins';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLDz8Z11lFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0900-097F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:'Poppins';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLDz8Z1JlFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Poppins';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLDz8Z1xlFd2JQEk.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Poppins';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJbecnFHGPezSQ.woff2) format('woff2');unicode-range:U+0900-097F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:'Poppins';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJnecnFHGPezSQ.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Poppins';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiEyp8kv8JHgFVrJJfecnFHGPc.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Poppins';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLGT9Z11lFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0900-097F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:'Poppins';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLGT9Z1JlFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Poppins';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLGT9Z1xlFd2JQEk.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Poppins';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6Z11lFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0900-097F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:'Poppins';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6Z1JlFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Poppins';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLEj6Z1xlFd2JQEk.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Poppins';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLCz7Z11lFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0900-097F,U+1CD0-1CF6,U+1CF8-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FB}@font-face{font-family:'Poppins';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLCz7Z1JlFd2JQEl8qw.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Poppins';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v20/pxiByp8kv8JHgFVrLCz7Z1xlFd2JQEk.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-164627626-2"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-164627626-2', {
              page_path: window.location.pathname,
            });
          </script><body><div id="__next"><img referrerPolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=7a9a4d20-0bc0-4a28-a01a-eefccebdf948"/><div class="jsx-3112819368 top-nav-bar"><div class="md:max-w-screen-lg lg:max-w-screen-xl mx-auto px-8 py-6 undefined"><div class="jsx-1573896879 flex flex-wrap justify-between items-center"><div class="jsx-1573896879"><a class="jsx-1573896879" href="/"><div class="text-gray-900 flex items-center font-semibold text-3xl"><img src="/assets/images/logo.svg" alt="Jina.ai logo" class="w-24"/></div></a></div><div class="jsx-1573896879 md:hidden"><button type="button" aria-label="show menu" class="jsx-1573896879 p-3 text-gray-900 rounded-md hover:bg-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" class="jsx-1573896879 stroke-current h-6 w-6"><path d="M0 0h24v24H0z" stroke="none" class="jsx-1573896879"></path><path d="M4 6h16M4 12h16M4 18h16" class="jsx-1573896879"></path></svg></button></div><nav class="jsx-1573896879 w-full md:w-auto md:block mt-6 md:mt-0 hidden"><ul class="jsx-1573896879 navbar flex flex-col md:flex-row md:items-center font-medium text-xl text-gray-800 sm:p-0 bg-white sm:bg-transparent rounded"><a href="/careers" class="jsx-3112819368"><span class="jsx-3112819368 text-gray-700 text-lg mr-4 font-medium hidden md:inline-block">Careers</span></a><a href="https://medium.com/jina-ai" class="jsx-3112819368"><span class="jsx-3112819368 text-gray-700 text-lg mr-4 font-medium hidden md:inline-block">Blog</span></a><a href="https://learn.jina.ai" class="jsx-3112819368"><span class="jsx-3112819368 text-gray-700 text-lg mr-4 font-medium hidden md:inline-block">Learn</span></a><div class="jsx-3112819368 relative hidden md:block"><button class="jsx-3112819368 flex items-center"><span class="jsx-3112819368 text-gray-700 text-lg font-medium">Docs</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="jsx-3112819368 text-gray-700 h-5 w-5 group-hover:text-gray-500"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" class="jsx-3112819368"></path></svg></button></div><div class="jsx-3128403005 md:hidden overflow-y-scroll"><ul class="jsx-3128403005 dropdown"><li class="jsx-3128403005 hover:bg-gray-200"><a href="/careers" rel="noopener noreferrer" class="jsx-3128403005 py-2 px-4 whitespace-no-wrap"><div class="jsx-3128403005 leading-4"><div class="jsx-3128403005 flex items-center"><div class=""><img src="/assets/images/icons/careers-icon.svg" alt="careers icon" class="w-full h-full"/></div><a href="/careers" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-sm ml-2">Careers</span></a></div><span class="jsx-3128403005 text-xs text-gray-500">Interested in joining us? Find out what it&#x27;s like to work at Jina AI.</span></div></a></li><li class="jsx-3128403005 hover:bg-gray-200"><a href="https://medium.com/jina-ai" rel="noopener noreferrer" class="jsx-3128403005 py-2 px-4 whitespace-no-wrap"><div class="jsx-3128403005 leading-4"><div class="jsx-3128403005 flex items-center"><div class=""><img src="/assets/images/icons/news-icon.svg" alt="news icon" class="w-full h-full"/></div><a href="https://medium.com/jina-ai" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-sm ml-2">Blog</span></a></div><span class="jsx-3128403005 text-xs text-gray-500">Check out the latest news about our company and products.</span></div></a></li><li class="jsx-3128403005 hover:bg-gray-200"><a href="https://learn.jina.ai" rel="noopener noreferrer" class="jsx-3128403005 py-2 px-4 whitespace-no-wrap"><div class="jsx-3128403005 leading-4"><div class="jsx-3128403005 flex items-center"><div class=""><img src="/assets/images/icons/docs-icon.svg" alt="docs icon" class="w-full h-full"/></div><a href="https://learn.jina.ai" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-sm ml-2">Learn</span></a></div><span class="jsx-3128403005 text-xs text-gray-500">Jina Learning Bootcamp</span></div></a></li><li class="jsx-3128403005 hover:bg-gray-200"><div class="jsx-3128403005 py-2 px-4 whitespace-no-wrap"><div class="jsx-3128403005 leading-4"><div class="jsx-3128403005 flex items-center"><div class=""><img src="/assets/images/icons/documentation-icon.svg" alt="documentation icon" class="w-full h-full"/></div><span class="jsx-3128403005 text-gray-800 font-semibold text-sm ml-2">Docs</span></div><span class="jsx-3128403005 text-xs text-gray-500">Open-source Ecosystem product documentation</span></div><div class="jsx-3128403005 grid grid-cols-2 gap-y-4 gap-x-8 mt-1"><a href="https://docarray.jina.ai/" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-xs whitespace-nowrap">DocArray</span></a><a href="https://docs.jina.ai/" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-xs whitespace-nowrap">Jina</span></a><a href="https://docs.jina.ai/fundamentals/executor/hub/" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-xs whitespace-nowrap">Hub</span></a><a href="https://finetuner.jina.ai/" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-xs whitespace-nowrap">Finetuner</span></a><a href="https://clip-as-service.jina.ai/" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-xs whitespace-nowrap">CLIP-as-service</span></a><a href="https://now.jina.ai/" class="jsx-3128403005"><span class="jsx-3128403005 text-gray-800 font-semibold text-xs whitespace-nowrap">NOW</span></a></div></div></li></ul></div></ul></nav></div></div></div><div style="margin-top:5.5rem"><div class="min-h-screen"><main><div class="container mx-auto px-5 flex flex-col items-center"><img src="/assets/images/blog/2022-01-13_DocArray/docarray-banner.png" alt="Introducing DocArray - A type agnostic data structure!-image" class="rounded-lg md:rounded-none shadow-md md:shadow-lg mb-4 mt-8 md:my-0 w-full xl:rounded-b-3xl"/><article class="mb-16 md:mb-32 pt-5 pb-10 md:py-20 md:max-w-6xl rounded-b-lg xl:rounded-3xl md:px-32 w-full xl:-mt-20 bg-white md:shadow-lg"><div class="mb-3"><div class="inline-block px-2 py-0 rounded text-primary-500 bg-primary-500 bg-opacity-20 mr-2 mb-2">DocsArray</div><div class="inline-block px-2 py-0 rounded text-primary-500 bg-primary-500 bg-opacity-20 mr-2 mb-2">Release</div></div><h1 class="text-xl md:text-4xl font-bold tracking-tighter leading-tight md:leading-none mb-6 md:text-left">Introducing DocArray - A type agnostic data structure!</h1><div class="flex items-center justify-between text-gray-600 mb-12"><div class="flex items-center"><img src="/assets/images/team/avatar-default.svg" class="w-8 h-auto rounded-full border border-gray-500 mr-4" alt="Shubham Saboo, Jyoti Bisht"/><div class="text-gray-600">Shubham Saboo, Jyoti Bisht</div></div><time dateTime="2022-01-15">15 Jan, 2022</time></div><div class="mx-auto markdown"><h2 id="overview">Overview</h2>
<p>For data scientists and engineers, speed is important along with accuracy. For accuracy, we built <a href="https://github.com/jina-ai/finetuner">Finetuner</a>, which lets you finetune  neural networks to achieve top performance on downstream tasks. Concerning speed, Jina was already fast, but now it's even faster. That's all down to DocArray - the perfect scalable data structure for deep learning. <code>DocArray</code> has been created to remove all the shortcomings in existing data structures, especially for ML and data science-related tasks. <a href="https://docarray.jina.ai/get-started/what-is/#comparing-to-alternatives">Here</a> is a comparison of <code>DocArray</code> with other data structures.</p>
<h2 id="installation">Installation </h2>
<p><code>DocArray</code> is included with Jina 3.0 and above, and it can be accessed after installation. You can install it:</p>
<ol>
<li>Via Pip (no extra dependency installed): <code>pip install docarray</code></li>
<li>Via conda (no extra dependency installed): <code>conda install -c conda-forage docarray</code></li>
<li>Full install: <code>pip install "docarray[full]"</code></li>
</ol>
<p>For more details on installation, please refer to this <a href="https://docarray.jina.ai/#install">documentation</a>.</p>
<h2 id="features">Features </h2>
<p><code>DocArray</code> is the first step towards standardizing a data structure for machine learning and data science. The aim of <code>DocArray</code> is to provide a single, robust, efficient, and powerful data structure for all your data processing needs. It comes packed with the following features:</p>
<ul>
<li>
<p><strong>Easy to use</strong>: <code>DocArray</code> is completely independent of Jina. It can be used to handle unstructured data without any prior knowledge of Jina’s framework. </p>
</li>
<li>
<p><strong>Support for multiple data types</strong>: <code>DocArray</code> supports all kinds of data including text, image, audio, video, and data types like ndarray, JSON, or Pandas dataframe.</p>
</li>
<li>
<p><strong>Easy operations</strong>: Sharing data over a network is easier with <code>DocArray</code> since it allows serialization and deserialization of data ensuring  network packets are transmitted fast and not lost. Not only this, it's now easier to create, vectorize and embed Documents without external processing.</p>
</li>
<li>
<p><strong>Ultra-fast</strong>: <code>DocArray</code> is much faster than the previous <code>DocumentArray</code> that was built into Jina core. We conducted tests on 100,000 <code>Document</code>s/<code>DocumentArray</code>s averaged over 5 repetitions, and the results speak for themselves:</p>
</li>
</ul>
<p class="image-only"><span class="image-wrapper"><img src="https://docarray.jina.ai/_images/speedup-vs2.svg" alt="image"></span></p>
<ul>
<li>
<p><strong>Neural Search Ready</strong>: DocArray is a one-stop solution for all your data pre-processing needs. It comes pre-loaded with basic functionalities like <code>.embed()</code>, <code>.match()</code>, etc. to ensure easy compatibility with Jina core and letting you build neural search solutions in no time.</p>
</li>
<li>
<p><strong>Less overhead for networking</strong>: Now being independent, DocArray has fewer layers and allows better access. DocArray lets you interoperate with other frameworks very easily.</p>
</li>
</ul>
<h2 id="operations-on-docarray">Operations on DocArray</h2>
<p><code>DocArray</code> has two components: <code>Document</code>, and <code>DocumentArray</code>. <code>Document</code> is the basic data type in Jina, and every piece of data, be it text, audio, video, etc is converted into a <code>Document</code> for further processing. A <code>DocumentArray</code> is a group of <code>Document</code>s. <code>DocArray</code> allows users to manipulate and work with the data stored in <code>Document</code>s and <code>DocumentArray</code>s. Let’s look at them in detail:</p>
<h3 id="document">Document</h3>
<ul>
<li>
<p><strong>Construction</strong></p>
<ol>
<li>Without any attributes:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> docarray <span class="hljs-keyword">import</span> Document
doc = Document()
</code></pre>
<ol start="2">
<li>With attributes:</li>
</ol>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> docarray <span class="hljs-keyword">import</span> Document
doc = Document(parameter)
</code></pre>
<ol start="3">
<li>
<p>Nested data: This is all about Documents inside Documents. When we talk about nesting, the important thing to understand is granularity and adjacency:</p>
<p>a. <strong>Granularity</strong>: nesting Documents vertically. This is achieved by the
<code>.chunks</code> attribute.</p>
<p>b. <strong>Adjacency</strong>: nesting Documents horizontally. This is achieved by the
<code>.matches</code> attribute. </p>
<p>To see these in action and know more about nesting data in DocArray, please <a href="https://docarray.jina.ai/fundamentals/document/nested/">see here</a>.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> docarray <span class="hljs-keyword">import</span> Document
doc = Document(<span class="hljs-built_in">id</span>=<span class="hljs-string">"one"</span>, chunks=[Document(<span class="hljs-built_in">id</span>=<span class="hljs-string">"two"</span>)])
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>Serialization</strong>: <code>DocArray</code> makes it really easy to send and receive Documents and it is designed to be "ready-to-wire". Serialization is supported for JSON, bytes, dict, and protobuf, and the code for all of them can be found <a href="https://docarray.jina.ai/fundamentals/document/serialization/#serialize">here</a>.</p>
</li>
<li>
<p><strong>Embeddings</strong>: Embeddings are multi-dimensional representations of Documents. The Document's <code>.embedding</code> attribute contains its vector embeddings. Examples and sample usage can be found <a href="https://docarray.jina.ai/fundamentals/document/embedding/">here</a>.</p>
</li>
<li>
<p><strong>Visualization</strong>: Visualization is very important with image and video data. <code>DocArray</code> helps you achieve this using the <code>.plot()</code> method. If you want to see the organization of your nested data, you can use the <code>.summary()</code> method. </p>
</li>
</ul>
<p class="image-only"><span class="image-wrapper"><img src="https://docarray.jina.ai/_images/doc-plot-in-jupyter.png" alt="image"></span></p>
<h3 id="documentarray">DocumentArray</h3>
<ul>
<li><strong>Constructing a <code>DocumentArray</code></strong>: You can construct a <code>DocumentArray</code> using a single file, multiple local files, a list of Documents, and even from empty Documents. A simple <code>DocumentArray</code> would look something like this:</li>
</ul>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> docarray <span class="hljs-keyword">import</span> DocumentArray
docs = DocumentArray()
</code></pre>
<p>That's not all. You can perform <a href="https://docarray.jina.ai/fundamentals/documentarray/construct/">many other operations while creating a DocumentArray</a>:</p>
<ul>
<li>
<p><strong>Serialization</strong>: Serialization of <code>DocumentArray</code> is similar to that of a <code>Document</code>. You can also serialize a <code>DocumentArray</code>  to be sent across a network, in bytes, JSON, cloud, base64, Protobuf, list, or dataframe. An in-depth overview of all the processes is listed <a href="https://docarray.jina.ai/fundamentals/documentarray/serialization/#from-to-bytes">here</a>.</p>
</li>
<li>
<p><strong>Access elements</strong>: <code>DocumentArray</code> elements can be accessed as easily as Python lists. <code>DocumentArray</code> lets you  access deeply-nested Documents by id, ellipses, multiple ids, boolean masks, or nested structure, and the usage can be seen <a href="https://docarray.jina.ai/fundamentals/documentarray/access-elements/">here</a>.</p>
</li>
<li>
<p><strong>Nearest neighbors</strong>: <code>DocArray</code> also makes it easy to find nearest neighbors within Documents in the DocumentArray. If the <code>.embeddings()</code> attribute is set for a <code>DocumentArray</code>, we can use the <code>match()</code> method for finding the nearest neighbour <code>Document</code>s. </p>
</li>
<li>
<p><strong>Evaluate matches</strong>: You can evaluate the result using the <code>evaluate()</code> method of <code>DocArray</code>. The results are stored in the <code>evaluations()</code> field of the <code>Document</code>s. You can get more information about the performance such as average precision, reciprocal rank, f1 score, etc in this <a href="https://docarray.jina.ai/fundamentals/documentarray/evaluation/">document</a>.</p>
</li>
</ul>
<h2 id="examples">Examples</h2>
<p>Since we talked about the different features of <code>DocArray</code> and what makes it the most suitable data structure for deep learning, now it's time to look at the capabilities of <code>DocArray</code> in action. Let's look at two examples of <code>DocArray</code> for two different data types:</p>
<h3 id="manipulating-text-with-docarray">Manipulating Text with DocArray</h3>
<p>Let's see a simple example of representing text in <code>DocArray</code>. Representing text is as simple as creating an instance of <code>Document</code> and adding the text to it. The <code>Document</code> supports data in any language. In this first step, data is converted into a <code>Document</code> to be ready for further processing.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> docarray <span class="hljs-keyword">import</span> Document

<span class="hljs-comment">#convert a simple sentence into a Document in Jina </span>
doc = Document(text=<span class="hljs-string">'hello, world'</span>)

<span class="hljs-comment"># convert a sentence in Hindi to a Document in Jina</span>
doc = Document(text=’👋	नमस्ते दुनिया!’)
</code></pre>
<p>Diving a bit deeper, let's see how we can build a very simple text matching function. The idea is to input a query sentence, match it with sentences in our dataset, and return the matched sentences.</p>
<p>First, we need to load the dataset from a URL, convert it into text, and put it into a <code>Document</code>. The dataset is the e-book of Pride and Prejudice that can be found <a href="https://www.gutenberg.org/files/1342/1342-0.txt">here</a>.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> docarray <span class="hljs-keyword">import</span> Document
doc = Document(uri=<span class="hljs-string">"https://www.gutenberg.org/files/1342/1342-0.txt"</span>).load_uri_to_text()
</code></pre>
<p>Next, since our dataset is an amalgamation of long sentences, we need to break it into smaller chunks that can be converted into a DocumentArray. We split the sentences using the '\n' symbol i.e. whenever a new line is encountered, we store that sentence as a <code>Document</code> in the <code>DocumentArray</code>.</p>
<pre><code class="hljs language-python">docs = DocumentArray(Document(text = s.strip()) <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> doc.text.split(<span class="hljs-string">'\n'</span>) <span class="hljs-keyword">if</span> s.strip())
</code></pre>
<p>Next comes the vectorization of features (i.e. we need to convert our features into indices in a vector/matrix). The features in this example become the embeddings of each <code>Document</code> in our <code>DocumentArray</code>. There are many ways to do this but, a faster and space-efficient way is to use feature hashing. It works by taking the features, applying a hash function that can hash the values and return them as indices. But, <code>DocArray</code> saves us from the computation, and using <strong>feature hashing</strong> is as easy as a single line of code:</p>
<pre><code class="hljs language-python">docs.apply(<span class="hljs-keyword">lambda</span> doc: doc.embed_feature_hashing())
</code></pre>
<p>Finally, we take our query sentence, convert it into a <code>Document</code>, vectorize it and then match it with the vectors of the <code>Document</code>s in the <code>DocumentArray</code>s. We take the query sentence as "she entered the room" from Pride and Prejudice and try to fetch similar sentences.</p>
<pre><code class="hljs language-python"><span class="hljs-comment"># query sentence </span>
query = (Document(text=<span class="hljs-string">"she entered the room"</span>).embed_feature_hashing().match(docs, limit=<span class="hljs-number">5</span>, exclude_self=<span class="hljs-literal">True</span>, 
metric=<span class="hljs-string">"jaccard"</span>, use_scipy=<span class="hljs-literal">True</span>))

<span class="hljs-comment"># print the results</span>
<span class="hljs-built_in">print</span>(query.matches[:, (<span class="hljs-string">'text'</span>, <span class="hljs-string">'scores__jaccard'</span>)])
</code></pre>
<p>Here are the arguments used in the <code>.match()</code> method:</p>
<ul>
<li><code>limit</code> : It specifies the number of results to be returned. In our example, we specified it to be 5, so 5 sentences will be returned.</li>
<li><code>exclude_self</code>: If set to True, the sentence won’t be matched to itself. Otherwise, it will match itself and return the query sentence as one of the results.</li>
<li><code>metric</code>: It defines which metric is used for calculating the nearest neighbors. We use the <a href="https://en.wikipedia.org/wiki/Jaccard_index">jaccard</a> metric in this example.</li>
<li><code>use_scipy</code>: Framework is automatically chosen depending on the embeddings. Here, we use scipy for better processing.</li>
</ul>
<h3 id="manipulating-audio-with-docarray">Manipulating Audio with DocArray</h3>
<p>Besides text, we can even manipulate audio files using <code>DocArray</code>. In this example, we will reverse an audio file. The first step is to convert an audio file (.wav file in this example) into a <code>Document</code> by loading it and then converting it into an audio blob. Then we can reverse this blob which in turn will reverse the audio. You can listen to the input and output files for this examples <a href="https://docarray.jina.ai/datatypes/audio/#example">here</a>.</p>
<pre><code class="hljs language-python"><span class="hljs-keyword">from</span> docarray <span class="hljs-keyword">import</span> Document
doc = Document(uri=<span class="hljs-string">"hello.wav"</span>).load_uri_to_audio_blob()
doc.blob = doc.blob[::-<span class="hljs-number">1</span>]
doc.save_audio_blob_to_file(<span class="hljs-string">"elloh.wav"</span>)
</code></pre>
<p>Manipulating different data types and working with powerful tools like <code>DocArray</code> adds to the speed of building deep learning applications. You can find examples of all the data types <a href="https://docarray.jina.ai/datatypes/">here</a>.</p>
<h2 id="summary">Summary</h2>
<p><code>DocArray</code> closely aligns with Python's list, thus making it super easy and intutive for developers to get started. Behind the simple syntax, DocArray comes with numerous outstanding capabilities compared to Python's list. It expands from one-dimensional data types like text to multidimensional complex data types like images, audio, etc. It also lets you perform a lot of data processing tasks out-of-the-box with its simple abstracted functions. Data professionals will agree that efficient understanding and pre-processing of data is a key to building scalable, fast AI applications.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://docarray.jina.ai/">DocArray documentation</a></li>
<li><a href="https://github.com/jina-ai/docarray">DocArray Github</a></li>
</ul></div></article></div></main></div></div><div class="jsx-1956813867"><div class="bg-primary-500 text-white"><div class="jsx-1956813867 flex flex-row justify-center md:justify-between px-6 md:px-0"><div class="jsx-1956813867 footer-left-margin hidden md:block"></div><div class="jsx-1956813867 flex justify-center flex-col md:flex-row"><div class="jsx-1956813867 pr-4 md:ml-0 md:py-16 md:mr-2 lg:mr-16 mt-16 md:mt-0"><div class="text-center md:text-left"><div class="flex md:justify-start"><div class="text-gray-900 flex items-center font-semibold text-3xl"><img src="/assets/images/logo-white.svg" alt="Jina.ai logo" class="w-24"/></div></div></div></div><div class="jsx-1956813867 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-16 py-16"><div class="jsx-1324436386 footer-links sm:text-left"><div class="jsx-1324436386 font-semibold text-white footer-items-title">Company</div><nav class="jsx-1324436386 mt-3"><ul class="jsx-1324436386"><li class="jsx-1956813867"><a class="jsx-1956813867" href="/careers/">Join us</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://medium.com/jina-ai">Blog</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://learn.jina.ai">Learn</a></li></ul></nav></div><div class="jsx-1324436386 footer-links sm:text-left"><div class="jsx-1324436386 font-semibold text-white footer-items-title">Products</div><nav class="jsx-1324436386 mt-3"><ul class="jsx-1324436386"><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://github.com/jina-ai/jina">Jina</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://hub.jina.ai">Hub</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://github.com/jina-ai/finetuner">Finetuner</a></li><li class="jsx-1956813867"><a class="jsx-1956813867 text-white" href="https://github.com/jina-ai/docarray">DocArray</a></li></ul></nav></div><div class="jsx-1324436386 footer-links sm:text-left"><div class="jsx-1324436386 font-semibold text-white footer-items-title">Legal</div><nav class="jsx-1324436386 mt-3"><ul class="jsx-1324436386"><li class="jsx-1956813867"><a class="jsx-1956813867" href="/legal/#terms-of-service">Terms of Service</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="/legal/#privacy-policy">Privacy Policy</a></li></ul></nav></div><div class="jsx-1324436386 footer-links sm:text-left"><div class="jsx-1324436386 font-semibold text-white footer-items-title">Social</div><nav class="jsx-1324436386 mt-3"><ul class="jsx-1324436386"><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://github.com/jina-ai/">GitHub</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://www.linkedin.com/company/jinaai/">LinkedIn</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://twitter.com/jinaAI_/">Twitter</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://www.youtube.com/c/JinaAI/">YouTube</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://slack.jina.ai/">Slack</a></li><li class="jsx-1956813867"><a class="jsx-1956813867" href="https://meetup.com/jina-community-meetup/">Meetup</a></li></ul></nav></div></div></div><div class="jsx-1956813867 footer-right-margin hidden md:block"></div></div><div class="text-center text-gray-100 text-sm py-2"><span class="block md:inline-block">© Jina AI 2020-2022. All rights reserved.</span></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Introducing DocArray - A type agnostic data structure!","description":"This blog post will introduce DocArray, define its advantages, and help you to understand its usage.","date":"2022-01-15","slug":"2022-01-13_DocArray","author":"Shubham Saboo, Jyoti Bisht","content":"\u003ch2 id=\"overview\"\u003eOverview\u003c/h2\u003e\n\u003cp\u003eFor data scientists and engineers, speed is important along with accuracy. For accuracy, we built \u003ca href=\"https://github.com/jina-ai/finetuner\"\u003eFinetuner\u003c/a\u003e, which lets you finetune  neural networks to achieve top performance on downstream tasks. Concerning speed, Jina was already fast, but now it's even faster. That's all down to DocArray - the perfect scalable data structure for deep learning. \u003ccode\u003eDocArray\u003c/code\u003e has been created to remove all the shortcomings in existing data structures, especially for ML and data science-related tasks. \u003ca href=\"https://docarray.jina.ai/get-started/what-is/#comparing-to-alternatives\"\u003eHere\u003c/a\u003e is a comparison of \u003ccode\u003eDocArray\u003c/code\u003e with other data structures.\u003c/p\u003e\n\u003ch2 id=\"installation\"\u003eInstallation \u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eDocArray\u003c/code\u003e is included with Jina 3.0 and above, and it can be accessed after installation. You can install it:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eVia Pip (no extra dependency installed): \u003ccode\u003epip install docarray\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eVia conda (no extra dependency installed): \u003ccode\u003econda install -c conda-forage docarray\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eFull install: \u003ccode\u003epip install \"docarray[full]\"\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFor more details on installation, please refer to this \u003ca href=\"https://docarray.jina.ai/#install\"\u003edocumentation\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"features\"\u003eFeatures \u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eDocArray\u003c/code\u003e is the first step towards standardizing a data structure for machine learning and data science. The aim of \u003ccode\u003eDocArray\u003c/code\u003e is to provide a single, robust, efficient, and powerful data structure for all your data processing needs. It comes packed with the following features:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eEasy to use\u003c/strong\u003e: \u003ccode\u003eDocArray\u003c/code\u003e is completely independent of Jina. It can be used to handle unstructured data without any prior knowledge of Jina’s framework. \u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSupport for multiple data types\u003c/strong\u003e: \u003ccode\u003eDocArray\u003c/code\u003e supports all kinds of data including text, image, audio, video, and data types like ndarray, JSON, or Pandas dataframe.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eEasy operations\u003c/strong\u003e: Sharing data over a network is easier with \u003ccode\u003eDocArray\u003c/code\u003e since it allows serialization and deserialization of data ensuring  network packets are transmitted fast and not lost. Not only this, it's now easier to create, vectorize and embed Documents without external processing.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eUltra-fast\u003c/strong\u003e: \u003ccode\u003eDocArray\u003c/code\u003e is much faster than the previous \u003ccode\u003eDocumentArray\u003c/code\u003e that was built into Jina core. We conducted tests on 100,000 \u003ccode\u003eDocument\u003c/code\u003es/\u003ccode\u003eDocumentArray\u003c/code\u003es averaged over 5 repetitions, and the results speak for themselves:\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp class=\"image-only\"\u003e\u003cspan class=\"image-wrapper\"\u003e\u003cimg src=\"https://docarray.jina.ai/_images/speedup-vs2.svg\" alt=\"image\"\u003e\u003c/span\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eNeural Search Ready\u003c/strong\u003e: DocArray is a one-stop solution for all your data pre-processing needs. It comes pre-loaded with basic functionalities like \u003ccode\u003e.embed()\u003c/code\u003e, \u003ccode\u003e.match()\u003c/code\u003e, etc. to ensure easy compatibility with Jina core and letting you build neural search solutions in no time.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eLess overhead for networking\u003c/strong\u003e: Now being independent, DocArray has fewer layers and allows better access. DocArray lets you interoperate with other frameworks very easily.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"operations-on-docarray\"\u003eOperations on DocArray\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eDocArray\u003c/code\u003e has two components: \u003ccode\u003eDocument\u003c/code\u003e, and \u003ccode\u003eDocumentArray\u003c/code\u003e. \u003ccode\u003eDocument\u003c/code\u003e is the basic data type in Jina, and every piece of data, be it text, audio, video, etc is converted into a \u003ccode\u003eDocument\u003c/code\u003e for further processing. A \u003ccode\u003eDocumentArray\u003c/code\u003e is a group of \u003ccode\u003eDocument\u003c/code\u003es. \u003ccode\u003eDocArray\u003c/code\u003e allows users to manipulate and work with the data stored in \u003ccode\u003eDocument\u003c/code\u003es and \u003ccode\u003eDocumentArray\u003c/code\u003es. Let’s look at them in detail:\u003c/p\u003e\n\u003ch3 id=\"document\"\u003eDocument\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eConstruction\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eWithout any attributes:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e docarray \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document\ndoc = Document()\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eWith attributes:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e docarray \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document\ndoc = Document(parameter)\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e\n\u003cp\u003eNested data: This is all about Documents inside Documents. When we talk about nesting, the important thing to understand is granularity and adjacency:\u003c/p\u003e\n\u003cp\u003ea. \u003cstrong\u003eGranularity\u003c/strong\u003e: nesting Documents vertically. This is achieved by the\n\u003ccode\u003e.chunks\u003c/code\u003e attribute.\u003c/p\u003e\n\u003cp\u003eb. \u003cstrong\u003eAdjacency\u003c/strong\u003e: nesting Documents horizontally. This is achieved by the\n\u003ccode\u003e.matches\u003c/code\u003e attribute. \u003c/p\u003e\n\u003cp\u003eTo see these in action and know more about nesting data in DocArray, please \u003ca href=\"https://docarray.jina.ai/fundamentals/document/nested/\"\u003esee here\u003c/a\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e docarray \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document\ndoc = Document(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"one\"\u003c/span\u003e, chunks=[Document(\u003cspan class=\"hljs-built_in\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\"two\"\u003c/span\u003e)])\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSerialization\u003c/strong\u003e: \u003ccode\u003eDocArray\u003c/code\u003e makes it really easy to send and receive Documents and it is designed to be \"ready-to-wire\". Serialization is supported for JSON, bytes, dict, and protobuf, and the code for all of them can be found \u003ca href=\"https://docarray.jina.ai/fundamentals/document/serialization/#serialize\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eEmbeddings\u003c/strong\u003e: Embeddings are multi-dimensional representations of Documents. The Document's \u003ccode\u003e.embedding\u003c/code\u003e attribute contains its vector embeddings. Examples and sample usage can be found \u003ca href=\"https://docarray.jina.ai/fundamentals/document/embedding/\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eVisualization\u003c/strong\u003e: Visualization is very important with image and video data. \u003ccode\u003eDocArray\u003c/code\u003e helps you achieve this using the \u003ccode\u003e.plot()\u003c/code\u003e method. If you want to see the organization of your nested data, you can use the \u003ccode\u003e.summary()\u003c/code\u003e method. \u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp class=\"image-only\"\u003e\u003cspan class=\"image-wrapper\"\u003e\u003cimg src=\"https://docarray.jina.ai/_images/doc-plot-in-jupyter.png\" alt=\"image\"\u003e\u003c/span\u003e\u003c/p\u003e\n\u003ch3 id=\"documentarray\"\u003eDocumentArray\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eConstructing a \u003ccode\u003eDocumentArray\u003c/code\u003e\u003c/strong\u003e: You can construct a \u003ccode\u003eDocumentArray\u003c/code\u003e using a single file, multiple local files, a list of Documents, and even from empty Documents. A simple \u003ccode\u003eDocumentArray\u003c/code\u003e would look something like this:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e docarray \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e DocumentArray\ndocs = DocumentArray()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThat's not all. You can perform \u003ca href=\"https://docarray.jina.ai/fundamentals/documentarray/construct/\"\u003emany other operations while creating a DocumentArray\u003c/a\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSerialization\u003c/strong\u003e: Serialization of \u003ccode\u003eDocumentArray\u003c/code\u003e is similar to that of a \u003ccode\u003eDocument\u003c/code\u003e. You can also serialize a \u003ccode\u003eDocumentArray\u003c/code\u003e  to be sent across a network, in bytes, JSON, cloud, base64, Protobuf, list, or dataframe. An in-depth overview of all the processes is listed \u003ca href=\"https://docarray.jina.ai/fundamentals/documentarray/serialization/#from-to-bytes\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eAccess elements\u003c/strong\u003e: \u003ccode\u003eDocumentArray\u003c/code\u003e elements can be accessed as easily as Python lists. \u003ccode\u003eDocumentArray\u003c/code\u003e lets you  access deeply-nested Documents by id, ellipses, multiple ids, boolean masks, or nested structure, and the usage can be seen \u003ca href=\"https://docarray.jina.ai/fundamentals/documentarray/access-elements/\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eNearest neighbors\u003c/strong\u003e: \u003ccode\u003eDocArray\u003c/code\u003e also makes it easy to find nearest neighbors within Documents in the DocumentArray. If the \u003ccode\u003e.embeddings()\u003c/code\u003e attribute is set for a \u003ccode\u003eDocumentArray\u003c/code\u003e, we can use the \u003ccode\u003ematch()\u003c/code\u003e method for finding the nearest neighbour \u003ccode\u003eDocument\u003c/code\u003es. \u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eEvaluate matches\u003c/strong\u003e: You can evaluate the result using the \u003ccode\u003eevaluate()\u003c/code\u003e method of \u003ccode\u003eDocArray\u003c/code\u003e. The results are stored in the \u003ccode\u003eevaluations()\u003c/code\u003e field of the \u003ccode\u003eDocument\u003c/code\u003es. You can get more information about the performance such as average precision, reciprocal rank, f1 score, etc in this \u003ca href=\"https://docarray.jina.ai/fundamentals/documentarray/evaluation/\"\u003edocument\u003c/a\u003e.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"examples\"\u003eExamples\u003c/h2\u003e\n\u003cp\u003eSince we talked about the different features of \u003ccode\u003eDocArray\u003c/code\u003e and what makes it the most suitable data structure for deep learning, now it's time to look at the capabilities of \u003ccode\u003eDocArray\u003c/code\u003e in action. Let's look at two examples of \u003ccode\u003eDocArray\u003c/code\u003e for two different data types:\u003c/p\u003e\n\u003ch3 id=\"manipulating-text-with-docarray\"\u003eManipulating Text with DocArray\u003c/h3\u003e\n\u003cp\u003eLet's see a simple example of representing text in \u003ccode\u003eDocArray\u003c/code\u003e. Representing text is as simple as creating an instance of \u003ccode\u003eDocument\u003c/code\u003e and adding the text to it. The \u003ccode\u003eDocument\u003c/code\u003e supports data in any language. In this first step, data is converted into a \u003ccode\u003eDocument\u003c/code\u003e to be ready for further processing.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e docarray \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document\n\n\u003cspan class=\"hljs-comment\"\u003e#convert a simple sentence into a Document in Jina \u003c/span\u003e\ndoc = Document(text=\u003cspan class=\"hljs-string\"\u003e'hello, world'\u003c/span\u003e)\n\n\u003cspan class=\"hljs-comment\"\u003e# convert a sentence in Hindi to a Document in Jina\u003c/span\u003e\ndoc = Document(text=’👋\tनमस्ते दुनिया!’)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eDiving a bit deeper, let's see how we can build a very simple text matching function. The idea is to input a query sentence, match it with sentences in our dataset, and return the matched sentences.\u003c/p\u003e\n\u003cp\u003eFirst, we need to load the dataset from a URL, convert it into text, and put it into a \u003ccode\u003eDocument\u003c/code\u003e. The dataset is the e-book of Pride and Prejudice that can be found \u003ca href=\"https://www.gutenberg.org/files/1342/1342-0.txt\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e docarray \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document\ndoc = Document(uri=\u003cspan class=\"hljs-string\"\u003e\"https://www.gutenberg.org/files/1342/1342-0.txt\"\u003c/span\u003e).load_uri_to_text()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNext, since our dataset is an amalgamation of long sentences, we need to break it into smaller chunks that can be converted into a DocumentArray. We split the sentences using the '\\n' symbol i.e. whenever a new line is encountered, we store that sentence as a \u003ccode\u003eDocument\u003c/code\u003e in the \u003ccode\u003eDocumentArray\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003edocs = DocumentArray(Document(text = s.strip()) \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e s \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e doc.text.split(\u003cspan class=\"hljs-string\"\u003e'\\n'\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e s.strip())\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNext comes the vectorization of features (i.e. we need to convert our features into indices in a vector/matrix). The features in this example become the embeddings of each \u003ccode\u003eDocument\u003c/code\u003e in our \u003ccode\u003eDocumentArray\u003c/code\u003e. There are many ways to do this but, a faster and space-efficient way is to use feature hashing. It works by taking the features, applying a hash function that can hash the values and return them as indices. But, \u003ccode\u003eDocArray\u003c/code\u003e saves us from the computation, and using \u003cstrong\u003efeature hashing\u003c/strong\u003e is as easy as a single line of code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003edocs.apply(\u003cspan class=\"hljs-keyword\"\u003elambda\u003c/span\u003e doc: doc.embed_feature_hashing())\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eFinally, we take our query sentence, convert it into a \u003ccode\u003eDocument\u003c/code\u003e, vectorize it and then match it with the vectors of the \u003ccode\u003eDocument\u003c/code\u003es in the \u003ccode\u003eDocumentArray\u003c/code\u003es. We take the query sentence as \"she entered the room\" from Pride and Prejudice and try to fetch similar sentences.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-comment\"\u003e# query sentence \u003c/span\u003e\nquery = (Document(text=\u003cspan class=\"hljs-string\"\u003e\"she entered the room\"\u003c/span\u003e).embed_feature_hashing().match(docs, limit=\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, exclude_self=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e, \nmetric=\u003cspan class=\"hljs-string\"\u003e\"jaccard\"\u003c/span\u003e, use_scipy=\u003cspan class=\"hljs-literal\"\u003eTrue\u003c/span\u003e))\n\n\u003cspan class=\"hljs-comment\"\u003e# print the results\u003c/span\u003e\n\u003cspan class=\"hljs-built_in\"\u003eprint\u003c/span\u003e(query.matches[:, (\u003cspan class=\"hljs-string\"\u003e'text'\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e'scores__jaccard'\u003c/span\u003e)])\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHere are the arguments used in the \u003ccode\u003e.match()\u003c/code\u003e method:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003elimit\u003c/code\u003e : It specifies the number of results to be returned. In our example, we specified it to be 5, so 5 sentences will be returned.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eexclude_self\u003c/code\u003e: If set to True, the sentence won’t be matched to itself. Otherwise, it will match itself and return the query sentence as one of the results.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003emetric\u003c/code\u003e: It defines which metric is used for calculating the nearest neighbors. We use the \u003ca href=\"https://en.wikipedia.org/wiki/Jaccard_index\"\u003ejaccard\u003c/a\u003e metric in this example.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003euse_scipy\u003c/code\u003e: Framework is automatically chosen depending on the embeddings. Here, we use scipy for better processing.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"manipulating-audio-with-docarray\"\u003eManipulating Audio with DocArray\u003c/h3\u003e\n\u003cp\u003eBesides text, we can even manipulate audio files using \u003ccode\u003eDocArray\u003c/code\u003e. In this example, we will reverse an audio file. The first step is to convert an audio file (.wav file in this example) into a \u003ccode\u003eDocument\u003c/code\u003e by loading it and then converting it into an audio blob. Then we can reverse this blob which in turn will reverse the audio. You can listen to the input and output files for this examples \u003ca href=\"https://docarray.jina.ai/datatypes/audio/#example\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003e\u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e docarray \u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document\ndoc = Document(uri=\u003cspan class=\"hljs-string\"\u003e\"hello.wav\"\u003c/span\u003e).load_uri_to_audio_blob()\ndoc.blob = doc.blob[::-\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]\ndoc.save_audio_blob_to_file(\u003cspan class=\"hljs-string\"\u003e\"elloh.wav\"\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eManipulating different data types and working with powerful tools like \u003ccode\u003eDocArray\u003c/code\u003e adds to the speed of building deep learning applications. You can find examples of all the data types \u003ca href=\"https://docarray.jina.ai/datatypes/\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\u003ch2 id=\"summary\"\u003eSummary\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eDocArray\u003c/code\u003e closely aligns with Python's list, thus making it super easy and intutive for developers to get started. Behind the simple syntax, DocArray comes with numerous outstanding capabilities compared to Python's list. It expands from one-dimensional data types like text to multidimensional complex data types like images, audio, etc. It also lets you perform a lot of data processing tasks out-of-the-box with its simple abstracted functions. Data professionals will agree that efficient understanding and pre-processing of data is a key to building scalable, fast AI applications.\u003c/p\u003e\n\u003ch2 id=\"references\"\u003eReferences\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docarray.jina.ai/\"\u003eDocArray documentation\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/jina-ai/docarray\"\u003eDocArray Github\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","coverImage":"/assets/images/blog/2022-01-13_DocArray/docarray-banner.png","tags":["DocsArray","Release"],"sanitize":false,"gfm":true}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"2022-01-13_DocArray"},"buildId":"6oOg4XGyq7AQDvscMvfY8","runtimeConfig":{},"isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>